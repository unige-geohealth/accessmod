[
  {
    "key": "typeAnalysis",
    "mode": "character",
    "class": "character",
    "choice": ["isotropic", "anisotropic"]
  },
  {
    "key": "limitFacilitiesNumber",
    "mode": "numeric",
    "class": "integer",
    "min": 0,
    "desc": "Maximum number of facilities, zero means no limit"
  },
  {
    "key": "limitProcessingTime",
    "mode": "numeric",
    "class": "numeric",
    "min": 0,
    "desc": "Maximum processing time, zero means no limit"
  },
  {
    "key": "limitPopCoveragePercent",
    "mode": "numeric",
    "class": "numeric",
    "min": 0,
    "desc": "Population coverage to reach"
  },
  {
    "key": "parallel",
    "mode": "logical",
    "class": "logical",
    "desc": "Enable parallel computation"
  },
  {
    "key": "knightMove",
    "mode": "logical",
    "class": "logical",
    "desc": "Use knight move: visit 16 neighboring cells instead of 8. Slower, more accurate"
  },
  {
    "key": "addNearest",
    "mode": "logical",
    "class": "logical",
    "desc": "Add cost allocation layer: zones of nearest facilities"
  },
  {
    "key": "joinField",
    "mode": "character",
    "class": "character",
    "desc": "Field from facilities for join"
  },
  {
    "key": "maxTravelTime",
    "mode": "numeric",
    "class": "numeric",
    "min": 0,
    "desc": "Maximum travel time, zero means no limit"
  },
  {
    "key": "maxTravelTimeOrder",
    "mode": "numeric",
    "class": "numeric",
    "min": 0,
    "desc": "Maximum travel time during order preprocessing, zero means no limit"
  },
  {
    "key": "useMaxSpeedMask",
    "mode": "logical",
    "desc": "Limit computation zone using a circular mask around the current facility, using the scenario maximum speed as radius"
  },
  {
    "key": "limitClosest",
    "mode": "logical",
    "class": "logical",
    "desc": "Limit computation to the closest facility"
  },
  {
    "key": "permuteGroups",
    "mode": "logical",
    "class": "logical",
    "desc": "Invert from/to groups: less facilities in 'from' group could reduce computation time"
  },
  {
    "key": "snapToGrid",
    "mode": "logical",
    "class": "logical",
    "desc": "Snap facilities to grid/nearest network in a threshold. If false, build an extra line to connect facilities to the network"
  },
  {
    "key": "towardsFacilities",
    "mode": "logical",
    "class": "logical",
    "desc": "Enable the return path : from population to facilities"
  },
  {
    "key": "ignoreCapacity",
    "mode": "logical",
    "class": "logical",
    "desc": "Ignore capacity and use maximum population"
  },
  {
    "key": "removeCapted",
    "mode": "logical",
    "class": "logical",
    "desc": "At each step, extract population capted, and produce population residual"
  },
  {
    "key": "tableScenario",
    "mode": "list",
    "class": "data.frame",
    "editable": [
      { "key": "speed", "mode": "numeric", "min": 0 },
      {
        "key": "mode",
        "mode": "character",
        "choice": ["MOTORIZED", "WALKING", "BICYCLING"]
      }
    ],
    "desc": "Scenario table"
  },
  {
    "key": "tableFacilities",
    "mode": "list",
    "class": "data.frame",
    "editable": [
      {
        "key": "amSelect",
        "mode": "logical",
        "desc": "Select / unselect facility"
      }
    ],
    "desc": "Partial facilities table"
  },
  {
    "key": "tableFacilitiesTo",
    "mode": "list",
    "class": "data.frame",
    "editable": [
      {
        "key": "amSelect",
        "mode": "logical",
        "desc": "Select / unselect facility"
      }
    ],
    "desc": "Partial facilities table"
  },
  {
    "key": "tableSuitability",
    "mode": "list",
    "class": "data.frame",
    "editable": [
      {
        "key": "weight",
        "mode": "numeric",
        "min": 0,
        "desc": "Suitability weight (must be > 0)"
      },
      {
        "key": "select",
        "mode": "logical",
        "desc": "Include/exclude this factor"
      },
      {
        "key": "factor",
        "mode": "character",
        "choice": ["popsum", "dist", "traveltime", "priority"],
        "desc": "Suitability factor"
      },
      {
        "key": "layer",
        "mode": "character",
        "desc": "Name of the input layer"
      }
    ],
    "desc": "Suitability factors table"
  },
  {
    "key": "tableExclusion",
    "mode": "list",
    "class": "data.frame",
    "editable": [
      {
        "key": "layer",
        "mode": "character",
        "desc": "Layer used for exclusion"
      },
      {
        "key": "buffer",
        "mode": "numeric",
        "min": 0,
        "desc": "Buffer radius (must be > 0)"
      },
      {
        "key": "method",
        "mode": "character",
        "choice": ["keep_inside", "keep_outside"],
        "desc": "Exclusion rule method"
      },
      {
        "key": "select",
        "mode": "logical",
        "desc": "Activate/deactivate this exclusion"
      }
    ],
    "desc": "Exclusion zones table"
  },
  {
    "key": "tableCapacity",
    "mode": "list",
    "class": "data.frame",
    "editable": [
      {
        "key": "min",
        "mode": "numeric",
        "desc": "Minimum population threshold"
      },
      {
        "key": "max",
        "mode": "numeric",
        "desc": "Maximum population threshold"
      },
      {
        "key": "label",
        "mode": "character",
        "desc": "Label for facility category"
      },
      {
        "key": "capacity",
        "mode": "numeric",
        "min": 0,
        "desc": "Assigned capacity for this range"
      }
    ],
    "desc": "Table defining population-based capacity thresholds"
  }
]
